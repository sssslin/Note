# 命令模式

命令模式(Command Pattern):将一个请求封装为一个对象，从而让我们可用不同的请求对客户进行参数化；对请求排队或者记录请求日志，以及支持可撤销的操作，命令模式是一种对象行为型模式，其别名为动作（Action）模式或

事务（Transaction）模式



Command(抽象命令类):抽象命令类一般是一个接口或抽象类,在其中声明了用于执行请求的execute()等方法,通过这些方法可以调用请求接受者的相关操作



ConcreteCommand(具体命令类):具体命令类是抽象命令类的子类,实现了在抽象命令类中声明的方法,它对应具体的接受者对象,将接收者对象的动作绑定其中.在实现execute()方法时,将调用接收者对象的相关操作(Action)



Invoker(调用者):调用者即请求发送者,它通过命令对象来执行请求.一个调用者并不需要在设计时确定其接收者因此它只与抽象命令类之间存在关联关系,在程序运行时可以将一个具体命令对象注入其中,再调用具体命令对象的execute()方法,从而实现间接调用请求接受者的相关操作.



Receiver(接受者):接受者执行与请求相关的操作,它具体实现对请求的业务处理



命令模式的关键在于引入了抽象命令类,请求发送者针对抽象命令类编程,只有实现了抽象命令类的具体命令才与请求接受者相关联.



宏命令(Macro Command)又称为组合命令,它是组合模式和命令模式联用的产物.宏命令是一个具体命令类，它拥有一个集合属性，在该集合中包含了对其他命令对象的引用。通常宏命令不直接与请求接收者交互，而是通过它的成员来调用接收者的方法。当调用宏命令的execute()方法时，将递归调用它所包含的每个成员命令的execute()方法，一个宏命令的成员可以是简单命令，还可以继续是宏命令。执行一个宏命令将触发多个具体命令的执行，从而实现对命令的批处理

